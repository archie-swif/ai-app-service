(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[452],{3120:function(e,t,n){Promise.resolve().then(n.bind(n,3536))},8149:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(7437),c=n(2265),r=JSON.parse('{"temperature":0.5,"model":"gpt-4"}'),a=n(5983);function o(e){let{request:t="",onResponse:n=()=>{},systemContext:o=[],userContext:u=[],openai:i,model:l,name:d,temperature:f}=e,[m,p]=(0,c.useState)(""),[h,v]=(0,c.useState)("Hello!"),[y,x]=(0,c.useState)(o);async function g(e){e.preventDefault(),N(m)}function N(e){e&&""!==e.trim()&&(p(""),v("..."),j(e).then(e=>{v(e),n(d+": "+e)}))}async function j(e){try{let t=[...y,{role:"user",content:e}];x(t),console.log(t);let n=i.chat.completions.create({...r,model:l,messages:t,temperature:f}),s=await Promise.race([n,new Promise((e,t)=>{setTimeout(e,6e4,d+": *nods silently*")})]),c=s.choices[0].message;return t.push(c),x(t),c.content}catch(e){return console.error(e),"*confused*"}}return(0,c.useEffect)(()=>N(t),[t]),(0,c.useEffect)(()=>(function(e){let t=[...y,...u];x(t)})(0),[u]),(0,s.jsxs)("div",{className:"command-line",children:[(0,s.jsx)("span",{className:"prompt-icon",hidden:!!m,children:"☺"}),(0,s.jsx)("span",{className:"prompt-icon",hidden:!m,children:"$"}),(0,s.jsx)(a.Z,{rows:1,cols:50,autoCapitalize:"sentences",className:"command-input",placeholder:h,value:m,onChange:function(e){p(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||g(e)}})]})}},3846:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(7437),c=n(2265),r=n(4131),a=n.n(r),o=n(7133).Buffer;function u(e){let{saveKey:t}=e,[n,r]=(0,c.useState)("");async function u(e){if(e.preventDefault(),"-"===n[2]){t(n);return}try{let e=await i(n);"-"===e[2]&&t(e)}catch(e){console.error("Bad OpenAI Key",e)}}async function i(e){let t=o.from("64656d6f2d6b6579"),n=a().createDecipheriv("aes256",e,t);return n.update("176371156ed20252cdf1681cc18e71bcdc97941e33a6aa2e2f5b58395bf4564c81dd242ff81d95ae39542d3e70f8395046184e8f91fd2fd799c7e7919fe766fd","hex","utf8")+n.final("utf8")}return(0,s.jsxs)("div",{className:"command-line",children:[(0,s.jsx)("span",{className:"prompt-icon",children:"░"}),(0,s.jsx)("form",{onSubmit:u,children:(0,s.jsx)("input",{size:100,type:"password",className:"command-input",autoFocus:!0,placeholder:"OpenAI Key -> Local Storage",onChange:function(e){r(e.target.value)}})})]})}},3536:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(7437),c=n(2265),r=n(2178),a=n(8149),o=n(3846);function u(){let[e,t]=(0,c.useState)(),[n,u]=(0,c.useState)(!0),[i,l]=(0,c.useState)(!1),d=(0,c.useRef)();return(0,c.useEffect)(()=>{u(!1),d.current=localStorage.getItem("OPENAI_KEY")||""},[]),(0,c.useEffect)(()=>{let e=async()=>{let e=new r.ZP({apiKey:d.current||"",dangerouslyAllowBrowser:!0});t(e)};d&&e()},[i]),(0,s.jsx)("div",{className:"grid-container",children:(0,s.jsxs)("div",{className:"centered-div",hidden:n,children:[(0,s.jsx)("div",{hidden:!!d.current,children:(0,s.jsx)(o.Z,{saveKey:e=>{l(!0),localStorage.setItem("OPENAI_KEY",e),d.current=e}})}),(0,s.jsx)("div",{hidden:!d.current,children:(0,s.jsx)(a.Z,{name:"GPT",model:"gpt-4",temperature:.5,userContext:[],openai:e})})]})})}}},function(e){e.O(0,[218,977,913,971,596,744],function(){return e(e.s=3120)}),_N_E=e.O()}]);